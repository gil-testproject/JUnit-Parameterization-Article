plugins {
    id 'java'
}

group 'io.testproject'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

sourceCompatibility = 1.11
targetCompatibility = 1.11

compileTestJava.options.compilerArgs.add '-parameters'

dependencies {
    // TestProject OpenSDK
    implementation 'io.testproject:java-sdk:1.2.3-RELEASE'

    // JUnit5
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.5.1'

}

jar {
    // Include compiled test classes and their sources
    from sourceSets.test.output+sourceSets.test.allSource

    // Collect and zip all classes from both test and runtime configurations
    from { configurations.testRuntimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
}